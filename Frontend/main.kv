<MyScreenManager>:
    LoginScreen:
        name: "login"
    RegisterScreen:
        name: "register"
    HomeScreen:
        name: "home"

<LoginScreen>:
    username_input: username
    password_input: password
    error_label: error
    BoxLayout:
        orientation: "vertical"
        TextInput:
            id: username
        TextInput:
            id: password
        Label:
            id: error
        Button:
            text: "Login"
            on_release: root.do_login(username.text, password.text)
        Button:
            text: "Registrar"
            on_release: app.root.current = "register"

<RegisterScreen>:
    username_input: username
    password_input: password
    status_label: status
    BoxLayout:
        orientation: "vertical"
        TextInput:
            id: username
        TextInput:
            id: password
        Label:
            id: status
        Button:
            text: "Registrar"
            on_release: root.do_register(username.text, password.text)
        Button:
            text: "Voltar"
            on_release: app.root.current = "login"

<HomeScreen>:
    user_label: user_lbl
    personagens_list: personagens
    BoxLayout:
        orientation: "vertical"
        Label:
            id: user_lbl
        ScrollView:
            GridLayout:
                id: personagens
                cols: 1
                size_hint_y: None
                height: self.minimum_height
        Button:
            text: "Sair"
            on_release: root.logout()
